"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var buttonModule = require("ui/button");
var RockUser_1 = require("./RockUser");
var Event_1 = require("../../event/Event");
var selected = -1;
exports.setSelected = function (num) {
    selected = num;
};
exports.getSelected = function () {
    return selected;
};
var RockModel = (function () {
    function RockModel(page) {
        this.user1 = new RockUser_1.default(page, "user1");
        this.user2 = new RockUser_1.default(page, "user2");
        this.refersh = page.getViewById('refersh');
        this.eventSetting();
    }
    RockModel.prototype.eventSetting = function () {
        var _this = this;
        this.refersh.on(buttonModule.Button.tapEvent, function () {
            _this.user1.reset();
            _this.user2.reset();
            exports.setSelected(-1);
        });
        Event_1.default.on('VOLUME_UP', function () {
            _this.user1.setWinner(1);
            _this.user2.setWinner(0);
        });
        Event_1.default.on('VOLUME_DOWN', function () {
            _this.user1.setWinner(0);
            _this.user2.setWinner(1);
        });
    };
    return RockModel;
}());
exports.RockModel = RockModel;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUm9ja01vZGVsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiUm9ja01vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsd0NBQTJDO0FBQzNDLHVDQUFrQztBQUNsQywyQ0FBc0M7QUFFdEMsSUFBSSxRQUFRLEdBQVcsQ0FBQyxDQUFDLENBQUM7QUFFYixRQUFBLFdBQVcsR0FBRyxVQUFBLEdBQUc7SUFDMUIsUUFBUSxHQUFHLEdBQUcsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFVyxRQUFBLFdBQVcsR0FBRztJQUN2QixNQUFNLENBQUMsUUFBUSxDQUFDO0FBQ3BCLENBQUMsQ0FBQztBQUVGO0lBTUksbUJBQVksSUFBSTtRQUNaLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxrQkFBUSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksa0JBQVEsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsZ0NBQVksR0FBWjtRQUFBLGlCQWdCQztRQWZHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFO1lBQzFDLEtBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDbkIsS0FBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNuQixtQkFBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsQ0FBQyxDQUFDLENBQUM7UUFFSCxlQUFLLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRTtZQUNsQixLQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QixLQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixDQUFDLENBQUMsQ0FBQztRQUVILGVBQUssQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFO1lBQ3BCLEtBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLEtBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNMLGdCQUFDO0FBQUQsQ0FBQyxBQTlCRCxJQThCQztBQTlCWSw4QkFBUyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBidXR0b25Nb2R1bGUgPSByZXF1aXJlKFwidWkvYnV0dG9uXCIpO1xuaW1wb3J0IFJvY2tVc2VyIGZyb20gJy4vUm9ja1VzZXInO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4uLy4uL2V2ZW50L0V2ZW50JztcblxubGV0IHNlbGVjdGVkOiBudW1iZXIgPSAtMTtcblxuZXhwb3J0IGNvbnN0IHNldFNlbGVjdGVkID0gbnVtID0+IHtcbiAgICBzZWxlY3RlZCA9IG51bTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RlZCA9ICgpID0+IHtcbiAgICByZXR1cm4gc2VsZWN0ZWQ7XG59O1xuXG5leHBvcnQgY2xhc3MgUm9ja01vZGVsIHtcblxuICAgIHByaXZhdGUgdXNlcjE7XG4gICAgcHJpdmF0ZSB1c2VyMjtcbiAgICBwcml2YXRlIHJlZmVyc2g7XG5cbiAgICBjb25zdHJ1Y3RvcihwYWdlKSB7XG4gICAgICAgIHRoaXMudXNlcjEgPSBuZXcgUm9ja1VzZXIocGFnZSwgXCJ1c2VyMVwiKTtcbiAgICAgICAgdGhpcy51c2VyMiA9IG5ldyBSb2NrVXNlcihwYWdlLCBcInVzZXIyXCIpO1xuICAgICAgICB0aGlzLnJlZmVyc2ggPSBwYWdlLmdldFZpZXdCeUlkKCdyZWZlcnNoJyk7XG4gICAgICAgIHRoaXMuZXZlbnRTZXR0aW5nKCk7XG4gICAgfVxuXG4gICAgZXZlbnRTZXR0aW5nKCkge1xuICAgICAgICB0aGlzLnJlZmVyc2gub24oYnV0dG9uTW9kdWxlLkJ1dHRvbi50YXBFdmVudCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51c2VyMS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy51c2VyMi5yZXNldCgpO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWQoLTEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBFdmVudC5vbignVk9MVU1FX1VQJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51c2VyMS5zZXRXaW5uZXIoMSk7XG4gICAgICAgICAgICB0aGlzLnVzZXIyLnNldFdpbm5lcigwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgRXZlbnQub24oJ1ZPTFVNRV9ET1dOJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51c2VyMS5zZXRXaW5uZXIoMCk7XG4gICAgICAgICAgICB0aGlzLnVzZXIyLnNldFdpbm5lcigxKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSJdfQ==